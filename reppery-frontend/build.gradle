buildscript {
    repositories {
        mavenCentral()
	 maven {
      	url "https://plugins.gradle.org/m2/"
    	} 
    }

    dependencies {
        classpath "com.moowork.gradle:gradle-node-plugin:$gradleNodeVersion"
    }
}

apply plugin: 'com.moowork.node'

node {
    version = nodeVersion
    npmVersion = npmVersion
    download = true
    nodeModulesDir = file(nodeModulesPath)
}

task buildAngularProd(type: NpmTask, dependsOn: 'npmInstall'){
    group 'build'
    description 'Build frontend Angular application in production mode.'
    args = ['run', 'buildProd']
}

task cleanAngularProd(type: Delete){
  group 'cleanup'
  description 'Deletes build frontend Angular application in production mode.'
  delete angularProdBuildPath
}

task serve(type: NpmTask){
  group 'dev'
  description 'Equivalent of running ng serve command.'
  args = ['run', 'ng' ,'serve']
}
